(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["751038e0"],{"9bfb":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"title-bar"},[a("q-icon",{staticClass:"title-back-icon",attrs:{name:"navigate_before"},nativeOn:{click:function(e){return t.goBack(e)}}}),a("div",{staticClass:"title-tx"},[t._v(t._s(t.titleTx))])],1)},s=[];n._withStripped=!0;var o={props:["titleTx"],methods:{goBack:function(){this.$router.go(-1)}}},c=o,i=(a("a675"),a("2877")),r=Object(i["a"])(c,n,s,!1,null,null,null);r.options.__file="TitleBar.vue";e["a"]=r.exports},a675:function(t,e,a){"use strict";var n=a("ca51"),s=a.n(n);s.a},ab55:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"mypage"},[a("TitleBar",{attrs:{titleTx:t.converData.nickName}}),a("div",{staticClass:"myblock",staticStyle:{"overflow-y":"auto",flex:"1"}},t._l(t.messages,function(t,e){return a("q-chat-message",{key:"reg-"+e,attrs:{label:t.label,sent:t.sent,"text-color":t.textColor,"bg-color":t.bgColor,name:t.name,avatar:t.avatar,text:t.text,stamp:t.stamp}})})),a("div",{staticStyle:{display:"flex",margin:"10px"}},[a("q-input",{staticStyle:{flex:"1"},model:{value:t.sendTx,callback:function(e){t.sendTx=e},expression:"sendTx"}}),a("q-btn",{staticStyle:{width:"20%"},attrs:{rounded:"",label:"发送",color:"primary"},on:{click:t.send}})],1)],1)},s=[];n._withStripped=!0;a("6b54");var o=a("9bfb"),c=a("3452"),i=a.n(c),r={components:{TitleBar:o["a"]},data:function(){return{converData:{},sendTx:"",messages:[]}},mounted:function(){var t=this;this.converData=this.$route.query.item,console.log(this.converData),JIM.onMsgReceive(function(e){console.log(e);var a=i.a.AES.decrypt(e.messages[0].content.msg_body.text,t.global.jim.aeskey),n=a.toString(i.a.enc.Utf8);t.messages.push({name:"",text:[n],sent:!1,avatar:"statics/left.png",stamp:(new Date).toLocaleString()});var s=document.querySelector(".myblock");t.$nextTick(function(){s.scrollTop=s.scrollHeight})})},methods:{send:function(){var t=this,e=i.a.AES.encrypt(this.sendTx,this.global.jim.aeskey);JIM.sendSingleMsg({target_username:this.converData.username,content:e.toString()}).onSuccess(function(e,a){t.messages.push({name:"",text:[t.sendTx],sent:!0,avatar:"statics/right.png",stamp:(new Date).toLocaleString()}),t.sendTx="";var n=document.querySelector(".myblock");t.$nextTick(function(){n.scrollTop=n.scrollHeight})}).onFail(function(t){})}}},l=r,u=(a("bccd"),a("2877")),m=Object(u["a"])(l,n,s,!1,null,"10995de9",null);m.options.__file="Chat.vue";e["default"]=m.exports},b7c6:function(t,e,a){},bccd:function(t,e,a){"use strict";var n=a("b7c6"),s=a.n(n);s.a},ca51:function(t,e,a){}}]);