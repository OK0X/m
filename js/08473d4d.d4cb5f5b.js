(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["08473d4d"],{"33c5":function(t,a,s){"use strict";s.r(a);var e=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"mypage",staticStyle:{"background-color":"white"}},[s("div",{staticClass:"textinfo"},[s("q-input",{attrs:{dense:!0,type:"textarea","float-label":t.$t("tipinputmnic"),"max-height":50,rows:"3"},model:{value:t.mnemonic,callback:function(a){t.mnemonic="string"===typeof a?a.trim():a},expression:"mnemonic"}})],1),s("q-input",{staticClass:"pswd",attrs:{dense:!0,type:"password","float-label":t.$t("setpswd")},model:{value:t.password1,callback:function(a){t.password1=a},expression:"password1"}}),s("q-input",{staticClass:"pswd",attrs:{dense:!0,type:"password","float-label":t.$t("confirmpswd")},model:{value:t.password2,callback:function(a){t.password2=a},expression:"password2"}}),s("span",{staticClass:"curt-balance"},[t._v(t._s(t.$t("naojimima")))]),s("q-btn",{staticClass:"mybtn-normal",attrs:{rounded:"",color:"primary",label:t.$t("beginimport")},on:{click:t.importWalletClick}}),s("div",{directives:[{name:"show",rawName:"v-show",value:t.progressShow,expression:"progressShow"}],staticClass:"en-progress-tx"},[t._v(t._s(t.progress))])],1)},n=[],o=(s("6b54"),s("06db"),s("079c"),s("e7ea")),i=s("a002"),l=s.n(i),r=s("3452"),c=s.n(r),d={data:function(){return{password1:"",password2:"",progress:"",progressShow:!1,mnemonic:""}},mounted:function(){},methods:{encyptWallet:function(){var t,a=this;try{t=o["ethers"].Wallet.fromMnemonic(this.mnemonic),this.global.wallet.ethAddress=t.address}catch(e){console.error(e),(e+"").indexOf("invalid mnemonic")>=0&&toast(this.$t("invlidmnic"))}var s=c.a.AES.encrypt(t.mnemonic,this.password2);l.a.setItem("ethAddress",t.address).then((function(t){a.saveEncryptPrivateKey(s.toString())})).catch((function(t){toast(t)}))},saveEncryptPrivateKey:function(t){var a=this,s=this;this.global.cryptMnemonic=t,l.a.setItem("cryptMnemonic",t).then((function(t){toast(s.$t("importOK")),s.global.currentTab="wallet",s.randomWallet=null,s.mnemonic=null,s.$router.go(-2),s.getUserinfo(a.global.wallet.ethAddress)})).catch((function(t){toast(t)}))},getUserinfo:function(t){var a=this,s={address:t},e=(new Date).getTime();this.$axios.get(this.global.apiconfig.otcbackapi+"otclogin/get_user",{params:s,headers:{"access-token":this.util.generateToken(JSON.stringify(s),e),"otc-timestamp":e}}).then((function(t){200===t.status&&0===t.data.code&&(null===t.data.data?(a.global.user.mobile="",a.global.user.actualname="",a.global.user.cardno="",a.global.user.alipayno="",a.global.user.weixin=""):(a.global.user.mobile=t.data.data.mobile,a.global.user.actualname=t.data.data.actual_name,a.global.user.cardno=t.data.data.card_no,a.global.user.alipayno=t.data.data.alipay_no,a.global.user.weixin=t.data.data.weixin,a.global.user.objectId=t.data.data.id,a.global.user.isGrayUser=t.data.data.a_user))}))},importWalletClick:function(){if(""!==this.mnemonic){var t=encodeURI(this.mnemonic).indexOf("%20%20");t>=0?toast(this.$t("fillspacetip",{index:t})):this.password1.length<6?toast(this.$t("pwsdless6")):""!==this.password1&&""!==this.password2?this.password1===this.password2?this.encyptWallet():toast(this.$t("twopswddiff")):toast(this.$t("pswdnull"))}else toast(this.$t("mnicnull"))}}},p=d,u=(s("7bd1"),s("2877")),m=Object(u["a"])(p,e,n,!1,null,null,null);a["default"]=m.exports},"44c9":function(t,a,s){},"7bd1":function(t,a,s){"use strict";var e=s("44c9"),n=s.n(e);n.a}}]);