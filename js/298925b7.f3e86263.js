(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["298925b7"],{"62cd":function(t,s,e){"use strict";var i=e("dd90"),n=e.n(i);n.a},"845e":function(t,s,e){"use strict";e.r(s);var i=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"mypage"},[e("TitleBar",{attrs:{titleTx:t.title}}),e("div",{staticClass:"myblock"},[e("q-input",{staticClass:"input-data",attrs:{"float-label":t.$t("ensoraddrs")},model:{value:t.toAddress,callback:function(s){t.toAddress=s},expression:"toAddress"}}),""===t.global.user.ensname?e("span",{staticClass:"curt-balance",staticStyle:{color:"dodgerblue"},on:{click:t.toRegisteEns}},[e("u",[t._v(t._s(t.$t("registename")))])]):t._e(),e("q-input",{staticClass:"input-data",attrs:{"float-label":t.$t("tramt"),type:"number"},model:{value:t.toAmt,callback:function(s){t.toAmt=s},expression:"toAmt"}}),e("span",{staticClass:"curt-balance"},[t._v(t._s(t.$t("cbalance"))+":"+t._s(Number(t.currentBalance).toFixed(4)))])],1),e("q-btn",{staticClass:"mybtn-normal",attrs:{rounded:"",label:t.$t("submit"),color:"primary"},on:{click:t.toNext}})],1)},n=[];i._withStripped=!0;e("96cf");var a=e("c973"),r=e.n(a),o=(e("f559"),e("9bfb")),l=(e("079c"),e("e7ea")),c=(e("a002"),e("96a1"),e("3452"),{components:{TitleBar:o["a"]},data:function(){return{currentBalance:"OKXT"===this.$route.query.p1?this.global.wallet.lastMcoinBalance:this.global.wallet.lastEthbalance,title:"OKXT"===this.$route.query.p1?"OKXT"+this.$t("send"):"ETH"+this.$t("send"),toAddress:"",toAddress2:"",toAmt:""}},mounted:function(){this.util.refreshGasPrice(this)},methods:{toRegisteEns:function(){this.$router.push({path:"registeens",query:{p1:"transfer"}})},toNext:function(){""!==this.toAddress?""!==this.toAmt?this.toAddress.startsWith("0x")?(this.toAddress2=this.toAddress,this.showPswdInputDialog()):this.getAddress(this.toAddress):toast(this.$t("tramtnull")):toast(this.$t("addressnull"))},getAddress:function(t){var s=this;s.$q.loading.show({message:this.$t("checking"),spinnerSize:50});var e=function(){var e=r()(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,s.global.nabContract.getAddress(t.toLowerCase());case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}();e().then(function(t){s.$q.loading.hide(),t!==s.global.emptyAddress?(s.toAddress2=t,s.showPswdInputDialog()):toast(s.$t("ensnoexist"))})},showPswdInputDialog:function(){var t=this,s=this;this.$q.dialog({title:this.itmeName1,message:this.$t("enterpswd"),prompt:{model:"",type:"text"},ok:this.$t("ok"),cancel:this.$t("cancel"),color:"secondary"}).then(function(e){if(""===e)toast(t.$t("pswdnull"));else{s.$q.loading.show({message:t.$t("txsubmiting"),spinnerSize:50});var i=s.util.getWallet(t,e);"ETH"===t.$route.query.p1?t.transferETH(i):t.tansferMcoin(i)}})},tansferMcoin:function(t){var s=this,e=this.global.tokenContract.connect(t),i=18,n=l["ethers"].utils.parseUnits(s.toAmt+"",i),a={gasPrice:l["ethers"].utils.bigNumberify(this.global.contractConfig.gasprice)};e.transfer(s.toAddress2,n,a).then(function(t){console.log(t),s.$q.loading.hide(),s.util.showInfoDialog(s,t.hash,!0),s.util.listen4TxResult(s,t.hash,s.$t("submitsuccess"),s.$t("submitfailed"))}).catch(function(t){s.util.reprotError2Bmob(s,"TransferCGAS",t,""),s.$q.loading.hide()})},transferETH:function(t){var s=this,e={to:this.toAddress2,value:l["ethers"].utils.parseEther(this.toAmt+""),gasPrice:l["ethers"].utils.bigNumberify(this.global.contractConfig.gasprice)},i=t.sendTransaction(e);i.then(function(t){console.log(t),s.$q.loading.hide(),s.util.showInfoDialog(s,t.hash,!0),s.util.listen4TxResult(s,t.hash,s.$t("submitsuccess"),s.$t("submitfailed"))}).catch(function(t){s.util.reprotError2Bmob(s,"TransferETH",t,""),s.$q.loading.hide()})}},beforeDestroy:function(){this.$q.loading.hide()}}),u=c,d=(e("62cd"),e("2877")),h=Object(d["a"])(u,i,n,!1,null,"315d257a",null);h.options.__file="TransferEth.vue";s["default"]=h.exports},"9bfb":function(t,s,e){"use strict";var i=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"title-bar"},[!1!==t.showBack?e("q-icon",{staticClass:"title-back-icon",attrs:{name:"navigate_before"},nativeOn:{click:function(s){return t.goBack(s)}}}):t._e(),e("div",{staticClass:"title-tx"},[t._v(t._s(t.titleTx))])],1)},n=[];i._withStripped=!0;var a={props:["titleTx","showBack"],methods:{goBack:function(){this.$router.go(-1)}}},r=a,o=(e("a675"),e("2877")),l=Object(o["a"])(r,i,n,!1,null,null,null);l.options.__file="TitleBar.vue";s["a"]=l.exports},a675:function(t,s,e){"use strict";var i=e("ca51"),n=e.n(i);n.a},ca51:function(t,s,e){},dd90:function(t,s,e){}}]);