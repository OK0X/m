(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["3a44f188"],{1505:function(t,n,i){"use strict";i.r(n);var e=function(){var t=this,n=t.$createElement,i=t._self._c||n;return i("div",{staticClass:"mypage"},[i("TitleBar",{attrs:{titleTx:t.title}}),i("q-list",{attrs:{highlight:"","no-border":"","inset-separator":""}},t._l(t.conversations,function(n){return i("q-item",{key:n.index,attrs:{to:{path:"Chat",query:{item:n}}}},[i("q-item-side",[i("q-item-tile",{attrs:{avatar:""}},[i("img",{attrs:{src:"statics/left.png"}})])],1),i("q-item-main",{attrs:{label:n.nickName}}),i("q-item-side",{attrs:{right:""}},[i("q-btn",{attrs:{round:"",dense:"",icon:"chat_bubble",color:"green"}},[0!==n.unread_msg_count?i("q-chip",{attrs:{floating:"",color:"red"}},[t._v(t._s(n.unread_msg_count))]):t._e()],1)],1)],1)}))],1)},s=[];e._withStripped=!0;var o=i("9bfb"),a=i("a002"),r=i.n(a),c=i("6821f"),l=i.n(c),u={components:{TitleBar:o["a"]},data:function(){return{title:this.$t("mymsg"),conversations:[]}},created:function(){console.log("-----Conversation created"),JIM.isInit()?JIM.isLogin()?this.getConversation():this.jimlogin():this.jiminit()},mounted:function(){var t=this;r.a.getItem("conversations").then(function(n){null!==n&&(t.conversations=JSON.parse(n))})},methods:{getConversation:function(){var t=this;JIM.getConversation().onSuccess(function(n){console.log(n),t.conversations=n.conversations,r.a.setItem("conversations",JSON.stringify(t.conversations))}).onFail(function(t){})},jiminit:function(){var t=this;window.JIM=new JMessage({debug:this.global.jim.debug});var n={appkey:this.global.jim.appkey,random_str:this.util.randomWord(!0,20,36),signature:"",timestamp:(new Date).getTime(),flag:this.global.jim.flag};n.signature=l()("appkey="+n.appkey+"&timestamp="+n.timestamp+"&random_str="+n.random_str+"&key="+this.global.jim.secret),JIM.init(n).onSuccess(function(n){console.log("success:"+JSON.stringify(n)),t.jimlogin()}).onFail(function(t){console.log("error:"+JSON.stringify(t))})},jimlogin:function(){var t=this,n=this.global.wallet.ethAddress;JIM.login({username:n===this.global.jim.ok0x?"ok0x":n.substring(2),password:"123456"}).onSuccess(function(n){console.log("success:"+JSON.stringify(n)),t.getConversation()}).onFail(function(t){console.log("error:"+JSON.stringify(t))}).onTimeout(function(t){console.log("timeout:"+JSON.stringify(t))})}}},g=u,f=(i("3498"),i("2877")),m=Object(f["a"])(g,e,s,!1,null,"1a953822",null);m.options.__file="Conversation.vue";n["default"]=m.exports},3498:function(t,n,i){"use strict";var e=i("80f8"),s=i.n(e);s.a},"80f8":function(t,n,i){},"9bfb":function(t,n,i){"use strict";var e=function(){var t=this,n=t.$createElement,i=t._self._c||n;return i("div",{staticClass:"title-bar"},[i("q-icon",{staticClass:"title-back-icon",attrs:{name:"navigate_before"},nativeOn:{click:function(n){return t.goBack(n)}}}),i("div",{staticClass:"title-tx"},[t._v(t._s(t.titleTx))])],1)},s=[];e._withStripped=!0;var o={props:["titleTx"],methods:{goBack:function(){this.$router.go(-1)}}},a=o,r=(i("a675"),i("2877")),c=Object(r["a"])(a,e,s,!1,null,null,null);c.options.__file="TitleBar.vue";n["a"]=c.exports},a675:function(t,n,i){"use strict";var e=i("ca51"),s=i.n(e);s.a},ca51:function(t,n,i){}}]);