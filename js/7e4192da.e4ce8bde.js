(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["7e4192da"],{"1fcf":function(t,e,a){},"3f81":function(t,e,a){"use strict";var s=a("b51a"),i=a.n(s);i.a},"4c68":function(t,e,a){},"5dc8":function(t,e,a){"use strict";var s=a("4c68"),i=a.n(s);i.a},"6a5e":function(t,e,a){"use strict";var s=a("1fcf"),i=a.n(s);i.a},"7ec8":function(t,e){t.exports="data:image/png;base64,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"},"800b":function(t,e,a){},"94ab":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAAXNSR0IArs4c6QAABB9JREFUWAm9mUtIVUEYx71mT7C06GUlCEEbA7OQbJNWbspqUxFuchG4al1QEPRYFQTtWgQWFC6lxCCpRChXltBKLCIpKXrgoyLtYb//cc5p7vWoZ8br/cPf+c43833zvzNn5sw5pvI8MTExsZrQClgKiwxXUArDcMhwgLI3lUp9onRGyiUCUctpXwO3wRLogkEav4CdiB1JGphIIMKWkLDOcHHS5NO0G8PfISL05zRtIvesAhFXSesGWBhFZccYJc1dRD6fKd20AhGmunrDmXLMta6NBG0InYhLFCsQcYto3Ai3xwXNg6+HnM2IHM/MnZ/pMCPXiD9X4iRBfTWavnUdYYpAajStPuK+MgJNIvEfox6SG+pTfachTSC/QAtiSqO0iPm9qDcaol4igVRoK9Fq9YW9Eb8jyV/PRA1GSxAeLRKcB/H4jJ7EtDC1/bYg8mlTPwqrbH9CW6v6vtoGI2iSaSN2RR8BVzLFKQm+EXgT86muHVFnNE0KJLgWuj4hfhNzGxHB04CExbAW7gmTG1EtlJ+NnbSQlho1LtAfoGerK14iLugYQesJPgN1HwuH8F2j/i32BvhLTkdI070CEulUog5c8d4K2I0dipN7KTxJ7teU1XJ4oETaNII6MvkgWmAExz2m1uAX54IKLRKd53xgj/pjEugMmG2USqAOmz4oZwpWKpB7TXvgRdgF/8BsoWguAnWg0Ka6QGoQOQrvYJ6H3TBu2nE7oShFB9cJcd1i7F76uLiFuC+2k7ybuD4BVfpiLBsC1bn2xE7YjtDvlAEQuRCjCW6d9Dj/HdMUZ+Pm1m6wD15G1H4jTNOu/a8Z/oA+GJZAvX1lC9r/DsPTiCxWUkR+o2iX7YGhbAsMNei+Ox5eUKYdJCz/bGYgcGC2VjH12krewK6YutC1JTQoP1i2izmge6cXHnGJou0Fpi7olKnU+/HmmPgxy7fMsl3M3nw60iarl2oXlFuNOyzbNvWSHmJdaDiUg9Kme1DQKLpgR9iYJIp9AO2NWb7WsA3lTstOagY/UFMsPIF7YdINu4yprUZct4IpW7l+hLkWDnEdnf/wb8RXBV2g26NTAcEIknAEe7qpUrs4HKPzsrCCHHrUvcoQp6k9Be2TTxgyU6nPItL0P5DOdJ67BAtVkRB6MXoIn5EwetUkl2ZiFzwAXfLRPG8UniVfsMjSfhmJK6lsUisP9JP0quLIc47C9xl8gzzR95pwkQR6TIW+lfhglRWkk44P9DYXiVOCNIEmowT2GDuXhfqcMjhpUxyqYYo0Ao1QnyNyAYlrZvTGMzuLFahGiFRdvaFc8wWNmtvnN1uJWTgN+FxXo50mztZq9f+AaWdEpLagOsOkm7mdwra1fWjPzc4nYDszQvW9pQbqpboEukDP+/n5iB6nArE5+TfEPwOYPqd0hX/9AAAAAElFTkSuQmCC"},"9bfb":function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"title-bar"},[!1!==t.showBack?a("q-icon",{staticClass:"title-back-icon",attrs:{name:"navigate_before"},nativeOn:{click:function(e){return t.goBack(e)}}}):t._e(),a("div",{staticClass:"title-tx"},[t._v(t._s(t.titleTx))])],1)},i=[];s._withStripped=!0;var o={props:["titleTx","showBack"],methods:{goBack:function(){this.$router.go(-1)}}},n=o,c=(a("a675"),a("2877")),l=Object(c["a"])(n,s,i,!1,null,null,null);l.options.__file="TitleBar.vue";e["a"]=l.exports},a675:function(t,e,a){"use strict";var s=a("ca51"),i=a.n(s);i.a},ae61:function(t,e){t.exports="data:image/png;base64,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"},b51a:function(t,e,a){},ca51:function(t,e,a){},f241:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-layout",{attrs:{view:"lHh Lpr lFf"}},[a("q-page-container",[a("WalletHome",{directives:[{name:"show",rawName:"v-show",value:"wallet"===t.selectedTab,expression:"selectedTab==='wallet'"}]}),a("SmartOTC",{directives:[{name:"show",rawName:"v-show",value:"otc"===t.selectedTab,expression:"selectedTab==='otc'"}]}),a("Conversation",{directives:[{name:"show",rawName:"v-show",value:"conversation"===t.selectedTab,expression:"selectedTab==='conversation'"}]}),a("Setting",{directives:[{name:"show",rawName:"v-show",value:"setting"===t.selectedTab,expression:"selectedTab==='setting'"}]})],1),a("q-layout-footer",{staticStyle:{"background-color":"white"}},[a("div",{staticClass:"main-tabs"},[a("div",{staticClass:"tab-item",on:{click:function(e){t.tabClick("wallet")}}},[a("img",{staticClass:"tab-img",staticStyle:{width:"26px",height:"21px"},attrs:{src:"wallet"===t.selectedTab?"statics/assets_bottom_ic_assets_select.png":"statics/assets_bottom_ic_assets_default.png"}}),a("span",{style:"wallet"===t.selectedTab?"color: #4993F4":"color: #BDCBDB"},[t._v(t._s(t.$t("assets")))])]),a("div",{staticClass:"tab-item",on:{click:function(e){t.tabClick("otc")}}},[a("img",{staticClass:"tab-img",staticStyle:{width:"26px",height:"26px"},attrs:{src:"otc"===t.selectedTab?"statics/assets_bottom_ic_partake_select.png":"statics/assets_bottom_ic_partake_default.png"}}),a("span",{style:"otc"===t.selectedTab?"color: #4993F4":"color: #BDCBDB"},[t._v("OTC")])]),a("div",{staticClass:"tab-item",on:{click:function(e){t.tabClick("conversation")}}},[a("img",{staticClass:"tab-img",staticStyle:{width:"26px",height:"26px"},attrs:{src:"conversation"===t.selectedTab?"statics/charroom_select.png":"statics/charroom_default.png"}}),a("span",{style:"conversation"===t.selectedTab?"color: #4993F4":"color: #BDCBDB"},[t._v(t._s(t.$t("mymsg")))])]),a("div",{staticClass:"tab-item",on:{click:function(e){t.tabClick("setting")}}},[a("img",{staticClass:"tab-img",staticStyle:{width:"26px",height:"26px"},attrs:{src:"setting"===t.selectedTab?"statics/assets_bottom_ic_set_select.png":"statics/assets_bottom_ic_set_default.png"}}),a("span",{style:"setting"===t.selectedTab?"color: #4993F4":"color: #BDCBDB"},[t._v(t._s(t.$t("set")))])])])])],1)},i=[];s._withStripped=!0;var o=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("q-page",{staticClass:"mypage",staticStyle:{height:"calc(100vh - 80px)"}},[s("div",{staticClass:"total-assets"},[s("span",{staticClass:"wt-ensname"},[t._v(t._s(t.global.user.ensname))]),s("div",{staticStyle:{display:"flex","justify-content":"center",margin:"3px"}},[s("img",{staticStyle:{width:"20px",height:"20px",margin:"5px"},attrs:{src:a("94ab")}}),s("span",{staticStyle:{"align-self":"center"}},[t._v(t._s(t.$t("totalasset"))+"(￥)")])]),s("span",{staticStyle:{"font-size":"25px"}},[t._v(t._s(parseFloat(t.totalAssets*t.global.bmobconfig.usdcny).toFixed(4)))])]),s("div",{staticClass:"mcoin",on:{click:t.toMCOINTransfer}},[s("img",{staticClass:"coin-icon",attrs:{src:a("ae61")}}),s("div",{staticClass:"coin-info"},[s("div",{staticClass:"info-line1"},[s("span",{staticStyle:{color:"#44566B"}},[t._v("OKXT")]),s("span",{staticStyle:{color:"#44566B"}},[t._v(t._s(Number(t.mcoinBalance).toFixed(4)))])]),s("div",{staticClass:"info-line2"},[s("span",{staticStyle:{color:"#6F7D8E"}},[t._v("=￥"+t._s(parseFloat(t.mcoinPrice*t.global.bmobconfig.usdcny).toFixed(4)))]),s("span",{staticStyle:{color:"#6F7D8E"}},[t._v("=￥"+t._s(parseFloat(t.mcoinTotalUSD*t.global.bmobconfig.usdcny).toFixed(4)))])])])]),s("div",{staticClass:"mcoin",staticStyle:{"margin-top":"10px"},on:{click:t.toEthTransfer}},[s("img",{staticClass:"coin-icon",attrs:{src:a("7ec8")}}),s("div",{staticClass:"coin-info"},[s("div",{staticClass:"info-line1"},[s("span",{staticStyle:{color:"#44566B"}},[t._v("ETH")]),s("span",{staticStyle:{color:"#44566B"}},[t._v(t._s(Number(t.ethbalance).toFixed(4)))])]),s("div",{staticClass:"info-line2"},[s("span",{staticStyle:{color:"#6F7D8E"}},[t._v("=￥"+t._s(parseFloat(t.ethPrice*t.global.bmobconfig.usdcny).toFixed(4)))]),s("span",{staticStyle:{color:"#6F7D8E"}},[t._v("=￥"+t._s(parseFloat(t.ethTotalUSD*t.global.bmobconfig.usdcny).toFixed(4)))])])])])])},n=[];o._withStripped=!0;a("96cf");var c,l,r=a("c973"),h=a.n(r),u=(a("c5f6"),a("e7ea")),g=a("a002"),d=a.n(g),m=a("96a1"),f={data:function(){return{ethbalance:this.global.wallet.lastEthbalance,mcoinBalance:this.global.wallet.lastMcoinBalance,ethPrice:"0.0000",ethTotalUSD:"0.0000",mcoinPrice:"0.0000",mcoinTotalUSD:"0.0000",totalAssets:"0.0000"}},mounted:function(){console.log("----assets mounted");var t=this;d.a.getItem("ethAddress").then(function(e){null===e?t.$router.push("/walletfirst"):(t.global.wallet.ethAddress=e.toLowerCase(),t.onBalance(),t.getMcoinBalance())}).catch(function(t){toast(t)}),this.balanceRefreshTask(),d.a.getItem("ethBalance").then(function(e){null!==e&&(t.ethbalance=t.global.wallet.lastEthbalance=e)}),d.a.getItem("mcoinBalance").then(function(e){null!==e&&(t.mcoinBalance=t.global.wallet.lastMcoinBalance=e)}),d.a.getItem("ensname").then(function(e){null!==e&&(t.global.user.ensname=e)}),this.getETHPrice(),this.ethPriceRefreshTask()},beforeDestroy:function(){clearInterval(c),clearInterval(l),d.a.setItem("mcoinBalance",this.mcoinBalance)},methods:{ethPriceRefreshTask:function(){var t=this;l=setInterval(function(){t.getETHPrice()},this.global.taskInterval)},getETHPrice:function(){var t=this,e="https://api.etherscan.io/api?module=stats&action=ethprice&apikey="+this.global.apiconfig.etherscanAPIKey;this.$axios.get(e).then(function(e){t.ethPrice=t.global.ethPrice=e.data.result.ethusd,t.ethTotalUSD=Number(t.global.wallet.lastEthbalance*t.ethPrice).toFixed(4),t.mcoinPrice=Number(t.global.cmatconfig.mcoinPrice*t.ethPrice).toFixed(4),t.mcoinTotalUSD=Number(t.mcoinPrice*t.mcoinBalance).toFixed(4),t.totalAssets=Number(parseFloat(t.ethTotalUSD)+parseFloat(t.mcoinTotalUSD)).toFixed(4)}).catch(function(t){}).then(function(){})},balanceRefreshTask:function(){var t=this;c=setInterval(function(){t.getMcoinBalance()},this.global.taskInterval)},getMcoinBalance:function(){var t=this,e=function(){var e=h()(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.global.tokenContract.balanceOf(t.global.wallet.ethAddress);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}();e().then(function(e){t.mcoinBalance=t.global.wallet.lastMcoinBalance="0"===e?"0.0000":u["ethers"].utils.formatEther(e)})},onBalance:function(){var t=this;this.global.defaultProvider.on(this.global.wallet.ethAddress,function(e){var a=u["ethers"].utils.formatEther(e);t.ethbalance=t.global.wallet.lastEthbalance=a,d.a.setItem("ethBalance",t.ethbalance)})},toEthTransfer:function(){this.$router.push({path:"/ethtransfer",query:{p1:"ETH",p2:this.global.wallet.lastEthbalance}})},toMCOINTransfer:function(){this.$router.push({path:"/ethtransfer",query:{p1:"OKXT",p2:this.global.wallet.lastMcoinBalance}})}}},b=f,p=(a("5dc8"),a("2877")),v=Object(p["a"])(b,o,n,!1,null,null,null);v.options.__file="WalletHome.vue";var A=v.exports,w=a("5b85"),x=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"mypage"},[a("TitleBar",{attrs:{titleTx:t.title,showBack:!1}}),a("q-item",{attrs:{to:"ChatRoom"}},[a("q-item-side",[a("q-item-tile",{attrs:{avatar:""}},[a("img",{attrs:{src:"statics/room.jpg"}})])],1),a("q-item-main",{attrs:{label:"聊天室"}}),a("q-item-side",{attrs:{right:""}},[a("q-btn",{attrs:{round:"",dense:"",icon:"chat_bubble",color:"green"}},[a("q-chip",{attrs:{floating:"",color:"red"}},[t._v("...")])],1)],1)],1),a("q-list",{attrs:{highlight:"","no-border":"","inset-separator":""}},t._l(t.conversations,function(e){return a("q-item",{key:e.index,attrs:{to:{path:"Chat",query:{item:e}}}},[a("q-item-side",[a("q-item-tile",{attrs:{avatar:""}},[a("img",{attrs:{src:"statics/left.png"}})])],1),a("q-item-main",{attrs:{label:e.nickName}}),a("q-item-side",{attrs:{right:""}},[a("q-btn",{attrs:{round:"",dense:"",icon:"chat_bubble",color:"green"}},[0!==e.unread_msg_count?a("q-chip",{attrs:{floating:"",color:"red"}},[t._v(t._s(e.unread_msg_count))]):t._e()],1)],1)],1)}))],1)},y=[];x._withStripped=!0;var T=a("9bfb"),C=(a("6821f"),a("f5ef")),S={components:{TitleBar:T["a"]},data:function(){return{title:this.$t("mymsg"),conversations:[]}},mounted:function(){var t=this;console.log("-----Conversation mounted"),C["a"].$on("jimloginOK",function(){console.log("receive event loginOK"),t.getConversation()}),JIM.isLogin()&&this.getConversation(),d.a.getItem("conversations").then(function(e){null!==e&&(t.conversations=JSON.parse(e))})},methods:{getConversation:function(){var t=this;JIM.getConversation().onSuccess(function(e){t.conversations=e.conversations,d.a.setItem("conversations",JSON.stringify(t.conversations))}).onFail(function(t){})}}},k=S,I=(a("fda6"),Object(p["a"])(k,x,y,!1,null,"5ec73dd2",null));I.options.__file="Conversation.vue";var R=I.exports,U=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-page",{staticClass:"mypage",staticStyle:{height:"calc(100vh - 80px)"}},[a("div",{staticClass:"top"},[a("span",{domProps:{innerHTML:t._s(t.$t("settoptx"))}})]),a("div",{staticClass:"me-menu-div"},[a("div",{staticClass:"me-menu",on:{click:t.switchLang}},[a("div",{staticStyle:{display:"flex","align-items":"center"}},[a("img",{staticStyle:{width:"18px",height:"18px"},attrs:{src:"statics/set_ic_language.png"}}),a("span",{staticStyle:{"margin-left":"10px"}},[t._v(t._s(t.$t("switchlang")))])]),a("q-icon",{staticClass:"back-icon",attrs:{name:"navigate_next"}})],1),a("div",{staticClass:"me-menu",on:{click:t.exportPrivateKey}},[a("div",{staticStyle:{display:"flex","align-items":"center"}},[a("img",{staticStyle:{width:"18px",height:"15px"},attrs:{src:"statics/set_ic_backup.png"}}),a("span",{staticStyle:{"margin-left":"10px"}},[t._v(t._s(t.$t("backupmnic")))])]),a("q-icon",{staticClass:"back-icon",attrs:{name:"navigate_next"}})],1),a("div",{staticClass:"me-menu",on:{click:t.toRegisteEns}},[a("div",{staticStyle:{display:"flex","align-items":"center"}},[a("img",{staticStyle:{width:"18px",height:"18px"},attrs:{src:"statics/set_ic_user.png"}}),a("span",{staticStyle:{"margin-left":"10px"}},[t._v(t._s(t.$t("registename")))])]),a("q-icon",{staticClass:"back-icon",attrs:{name:"navigate_next"}})],1),a("div",{staticClass:"me-menu",on:{click:t.withdrawReadMe}},[a("div",{staticStyle:{display:"flex","align-items":"center"}},[a("img",{staticStyle:{width:"18px",height:"16px"},attrs:{src:"statics/set_ic_info.png"}}),a("span",{staticStyle:{"margin-left":"10px"}},[t._v("\n          "+t._s(t.$t("lookgg"))+"\n          "),t.isNotifyNew?a("span",{staticStyle:{"font-size":"14px",color:"red"}},[t._v("new")]):t._e()])]),a("q-icon",{staticClass:"back-icon",attrs:{name:"navigate_next"}})],1),t.global.isWebVersion?t._e():a("div",{staticClass:"me-menu",on:{click:t.checkUpdata}},[a("div",{staticStyle:{display:"flex","align-items":"center"}},[a("img",{staticStyle:{width:"18px",height:"18px"},attrs:{src:"statics/set_ic_updata.png"}}),a("span",{staticStyle:{"margin-left":"10px"}},[t._v(t._s(t.$t("checkupdate",{versionName:t.global.versionName})))])]),a("q-icon",{staticClass:"back-icon",attrs:{name:"navigate_next"}})],1),t._e(),t._e(),a("div",{staticClass:"me-menu",on:{click:t.tofeedback}},[a("div",{staticStyle:{display:"flex","align-items":"center"}},[a("img",{staticStyle:{width:"18px",height:"18px"},attrs:{src:"statics/set_ic_feedback.png"}}),a("span",{staticStyle:{"margin-left":"10px"}},[t._v(t._s(t.$t("feedback")))])]),a("q-icon",{staticClass:"back-icon",attrs:{name:"navigate_next"}})],1),a("q-btn",{staticStyle:{"font-size":"18px","border-bottom":"1px solid rgba(247, 241, 241, 0.726)"},attrs:{flat:"",color:"red",label:t.$t("exitcut")},nativeOn:{click:function(e){return t.toExit(e)}}}),a("CustomInfoDialog",{attrs:{dialogData:t.dialog}})],1)])},B=[];U._withStripped=!0;a("6b54"),a("7f7f"),a("079c");var E=a("ef5a"),F=(a("3452"),{components:{CustomInfoDialog:E["a"]},data:function(){return{contrDrawAcctBalance:"",isNotifyNew:!1,dialog:{show:!1,vhtml:"",ok:this.$t("close")},refercode:"",isSuperNodeAddress:!1}},mounted:function(){var t=this;console.log("----setting mounted"),this.getNotifyInfo(),d.a.getItem("refercode").then(function(e){null!==e&&(t.refercode=e)}),d.a.getItem("ethAddress").then(function(e){null!==e&&(t.global.wallet.ethAddress=e.toLowerCase(),t.isSuperNodeAddress="0x905a2e36e67b52c1586ec6b50603a36f2722391b"===t.global.wallet.ethAddress,t.getMyReferCode())})},methods:{switchLang:function(){var t=this;this.$q.dialog({title:this.$t("switchlang"),message:"",options:{type:"radio",model:this.$i18n.locale,items:[{label:"EN",value:"en-us",color:"secondary"},{label:"中文",value:"zh-cn"}]},ok:this.$t("ok"),cancel:this.$t("cancel"),preventClose:!1,color:"secondary"}).then(function(e){t.$i18n.locale=e,localStorage.removeItem("lang"),localStorage.setItem("lang",e)}).catch(function(){})},toRegisteEns:function(){this.$router.push({path:"registeens",query:{p1:"settingmenu",p2:this.$t("registename")}})},getNotifyInfo:function(){var t=this,e={name:"notify"};this.$axios.get(this.global.apiconfig.BmobRestAPIUrl+"classes/config?where="+encodeURI(JSON.stringify(e)),{headers:this.global.apiconfig.BmobRestAPIHeaders}).then(function(e){if(200===e.status){var a=e.data.results;t.global.readme.value=a[0].value,t.global.readme.updatedAt=a[0].updatedAt,"zh-cn"===t.$i18n.locale?d.a.getItem("notifyUpdateAt").then(function(e){e!==t.global.readme.updatedAt&&(t.isNotifyNew=!0)}):d.a.getItem("notifyUpdateAten").then(function(e){e!==t.global.readme.updatedAten&&(t.isNotifyNew=!0)})}})},referApp:function(){if(this.global.totalInvest<this.global.bmobconfig.referRequireETH)toast(this.$t("notreachreferreq",{requireETH:this.global.bmobconfig.referRequireETH}));else{if(this.global.isWebVersion)return this.dialog.show=!0,void(this.dialog.vhtml=this.$t("advphrase")+" "+this.global.bmobconfig.referUrl+" "+this.$t("refercode")+": "+this.refercode+" "+this.$t("longtouchcopy"));var t={message:this.$t("advphrase"),url:" "+this.global.bmobconfig.referUrl+" "+this.$t("refercode")+": "+this.refercode,subject:this.$t("ok0x"),chooserTitle:this.$t("ok0x")},e=function(t){},a=function(t){toast(t)};window.plugins.socialsharing.shareWithOptions(t,e,a)}},checkUpdata:function(){var t=this;this.$axios.get(this.global.apiconfig.BmobRestAPIUrl+"classes/config",{headers:this.global.apiconfig.BmobRestAPIHeaders}).then(function(e){if(200===e.status){for(var a,s,i,o,n=e.data.results,c=0;c<n.length;c++)switch(n[c].name){case"latestVersionCode":a=n[c].value;break;case"updateTips":s=n[c].value;break;case"updateUrl":i=n[c].value;break;case"grayScaleRelease":o="true"===n[c].value;break}a>t.global.versionCode?o?t.global.user.isGrayUser?t.showUpdateDialog(s,i):toast(t.$t("aleadylatest")):t.showUpdateDialog(s,i):toast(t.$t("aleadylatest")),t.global.bmobconfig.downloadUrl=i}})},tomyreferpage:function(){this.global.totalInvest<this.global.bmobconfig.referRequireETH?toast(this.$t("notreachreferreq",{requireETH:this.global.bmobconfig.referRequireETH})):this.$router.push("/MyReferPage")},tofeedback:function(){this.$router.push("/Feedback")},showUpdateDialog:function(t,e){this.$q.dialog({title:this.$t("havenew"),message:t,ok:this.$t("downnew"),cancel:this.$t("updatelater")}).then(function(){Object(m["a"])(e)}).catch(function(){})},contractDraw:function(){this.dialogData.show=!0},reprotbysms:function(){this.$axios.post(this.global.apiconfig.BmobRestAPIUrl+"requestSmsCode",{mobilePhoneNumber:"13169919942",template:"tip4"},{headers:this.global.apiconfig.BmobRestAPIHeaders}).then(function(t){})},doContrDraw:function(t,e){var a=this,s=this.global.m3gameContract.connect(t);s.contrDraw(this.global.contractConfig.tokenAddress,u["ethers"].utils.parseEther(e+"")).then(function(t){console.log(t),a.$q.loading.hide(),a.util.showInfoDialog(a,t.hash,!1)}).catch(function(t){console.error(t),a.$q.loading.hide()})},mymessage:function(){this.$router.push("/Conversation")},withdrawReadMe:function(){this.$router.push("/withdrawreadme")},toExit:function(){var t=this,e=this;this.$q.dialog({title:this.$t("cuationbackup"),message:"",cancel:this.$t("cancel"),ok:this.$t("ok")}).then(function(){t.removeLocalforage(),e.$router.push("/walletfirst")}).catch(function(){})},removeLocalforage:function(){d.a.removeItem("refer:"+this.global.wallet.ethAddress).then(function(){console.log("----refer is remove!")}),d.a.removeItem("ethBalance"),d.a.removeItem("mcoinBalance"),d.a.removeItem("lastInvestTime"),d.a.removeItem("referAwards"),d.a.removeItem("alreadyget"),d.a.removeItem("lastTotalInterest")},exportPrivateKey:function(){var t=this,e=this;this.$q.dialog({message:this.$t("enterpswd"),prompt:{model:"",type:"text"},ok:this.$t("ok"),cancel:this.$t("cancel"),color:"secondary"}).then(function(a){if(""===a)toast(e.$t("pswdnull"));else{var s=e.util.getWallet(t,a);e.$q.dialog({title:t.$t("mnemonic"),message:s.mnemonic,ok:t.$t("ok")})}}).catch(function(){})},getMyReferCode:function(){var t=this,e={address:this.global.wallet.ethAddress};this.$axios.get(this.global.apiconfig.BmobRestAPIUrl+"classes/refercode?where="+encodeURI(JSON.stringify(e)),{headers:this.global.apiconfig.BmobRestAPIHeaders}).then(function(e){200===e.status&&(0===e.data.results.length?t.saveRefercode2Bmob():(t.refercode=e.data.results[0].code,d.a.setItem("refercode",t.refercode)))})},saveRefercode2Bmob:function(){var t=this,e=Math.random().toString().slice(-6);this.$axios.post(this.global.apiconfig.BmobRestAPIUrl+"classes/refercode",{address:this.global.wallet.ethAddress,code:e},{headers:this.global.apiconfig.BmobRestAPIHeaders}).then(function(a){t.refercode=e,d.a.setItem("refercode",e)})}}}),_=F,q=(a("3f81"),Object(p["a"])(_,U,B,!1,null,null,null));q.options.__file="Setting.vue";var N=q.exports,G={components:{WalletHome:A,SmartOTC:w["default"],Conversation:R,Setting:N},name:"MyLayout",data:function(){return{selectedTab:this.global.currentTab}},beforeDestroy:function(){this.global.currentTab=this.selectedTab},created:function(){},methods:{tabClick:function(t){this.selectedTab=t}}},O=G,P=(a("6a5e"),Object(p["a"])(O,s,i,!1,null,"212cedd2",null));P.options.__file="MyLayout.vue";e["default"]=P.exports},fda6:function(t,e,a){"use strict";var s=a("800b"),i=a.n(s);i.a}}]);