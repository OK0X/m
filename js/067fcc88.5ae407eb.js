(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["067fcc88"],{"41d7":function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{ref:"walletcreate",staticClass:"mypage",staticStyle:{"background-color":"white"}},[e("div",{staticClass:"textinfo"},[e("span",{staticStyle:{color:"red"}},[t._v(t._s(t.$t("wmnemonictip")))]),e("br"),e("br"),e("span",{staticStyle:{color:"#3E7DCE"}},[t._v(t._s(t.mnemonic))])]),e("q-input",{staticClass:"pswd",attrs:{dense:!0,type:"password","float-label":t.$t("setpswd")},model:{value:t.password1,callback:function(a){t.password1=a},expression:"password1"}}),e("q-input",{staticClass:"pswd",attrs:{dense:!0,type:"password","float-label":t.$t("confirmpswd")},model:{value:t.password2,callback:function(a){t.password2=a},expression:"password2"}}),e("span",{staticClass:"curt-balance"},[t._v(t._s(t.$t("naojimima")))]),e("q-btn",{staticClass:"mybtn-normal",attrs:{rounded:"",label:t.$t("cryptwallet"),color:"primary"},on:{click:t.encryptWalletClick}}),e("div",{directives:[{name:"show",rawName:"v-show",value:t.progressShow,expression:"progressShow"}],staticClass:"en-progress-tx"},[t._v(t._s(t.progress))])],1)},n=[],o=e("967e"),l=e.n(o),r=(e("96cf"),e("6b54"),e("06db"),e("079c"),e("e7ea")),i=e("a002"),c=e.n(i),d=e("3452"),u=e.n(d),p={data:function(){return{password1:"",password2:"",progress:"",progressShow:!1,mnemonic:"",randomWallet:null}},mounted:function(){this.createWallet();var t=this;window.onresize=function(){var a=window.screen.height;t.$refs.walletcreate.style.height=a+"px"}},methods:{encyptWallet:function(){var t=this,a=this.randomWallet.mnemonic,e=u.a.AES.encrypt(a,this.password2);c.a.setItem("ethAddress",this.global.wallet.ethAddress).then((function(a){t.saveEncryptPrivateKey(e.toString())})).catch((function(t){toast(t)}))},saveEncryptPrivateKey:function(t){var a=this,e=this;e.global.cryptMnemonic=t,c.a.setItem("cryptMnemonic",t).then((function(t){toast(e.$t("setsuccess")),e.global.currentTab="wallet",e.randomWallet=null,e.mnemonic=null,e.$router.go(-2),e.getUserinfo(a.global.wallet.ethAddress)})).catch((function(t){toast(t)}))},getUserinfo:function(t){var a=this,e={address:t},s=(new Date).getTime();this.$axios.get(this.global.apiconfig.otcbackapi+"otclogin/get_user",{params:e,headers:{"access-token":this.util.generateToken(JSON.stringify(e),s),"otc-timestamp":s}}).then((function(t){console.log("22222"),200===t.status&&0===t.data.code&&(null===t.data.data?(a.global.user.mobile="",a.global.user.actualname="",a.global.user.cardno="",a.global.user.alipayno="",a.global.user.weixin=""):(a.global.user.mobile=t.data.data.mobile,a.global.user.actualname=t.data.data.actual_name,a.global.user.cardno=t.data.data.card_no,a.global.user.alipayno=t.data.data.alipay_no,a.global.user.weixin=t.data.data.weixin,a.global.user.objectId=t.data.data.id,a.global.user.isGrayUser=t.data.data.a_user))}))},mnemonicClick:function(){this.createWallet()},createWallet:function(){var t=this,a=function(){var t;return l.a.async((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,l.a.awrap(r["ethers"].Wallet.createRandom());case 2:return t=a.sent,a.abrupt("return",t);case 4:case"end":return a.stop()}}))};a().then((function(a){t.randomWallet=a,t.mnemonic=a.mnemonic,t.global.wallet.ethAddress=a.address})).catch((function(t){console.error(t)}))},encryptWalletClick:function(){this.password1.length<6?toast(this.$t("pwsdless6")):""!==this.password1&&""!==this.password2?this.password1===this.password2?this.encyptWallet():toast(this.$t("twopswddiff")):toast(this.$t("pswdnull"))}}},w=p,h=(e("cea1"),e("2877")),m=Object(h["a"])(w,s,n,!1,null,"4ea67b38",null);a["default"]=m.exports},8557:function(t,a,e){},cea1:function(t,a,e){"use strict";var s=e("8557"),n=e.n(s);n.a}}]);